{% extends "account/base_manage.html" %}
{% load i18n %}
{% load allauth %}

{% block head_title %}
    {% trans "Change Phone" %}
{% endblock head_title %}

{% block content %}
    <div class="mb-4">
        <a href="{% url 'account_profile' %}" class="text-blue-600 hover:text-blue-700 text-sm font-medium" style="text-decoration: none !important;">
            ‚Üê {% trans "Back to Profile" %}
        </a>
    </div>
    {% element h1 %}
        {% trans "Change Phone" %}
    {% endelement %}

    {% if phone %}
    <div class="mb-6 p-4 bg-slate-50 rounded-lg">
        <label class="block text-sm font-medium text-slate-700 mb-2">
            {% trans "Current phone" %}:
        </label>
        <input type="tel" value="{{ phone }}" disabled class="w-full px-4 py-2 border border-slate-300 rounded-lg bg-slate-100 text-slate-500">
    </div>
    {% endif %}

    <form method="post" action="{% url 'account_change_phone' %}" class="space-y-4">
        {% csrf_token %}
        
        <div class="field-group">
            <label for="{{ form.phone.id_for_label }}" class="block text-sm font-medium text-slate-700 mb-2">
                {% trans "Change to" %}:
            </label>
            {{ form.phone }}
            {% if form.phone.errors %}
                <div class="field-errors">
                    {{ form.phone.errors }}
                </div>
            {% endif %}
            {% if form.phone.help_text %}
                <p class="helptext">{{ form.phone.help_text }}</p>
            {% endif %}
        </div>

        <div class="form-actions">
            <button type="submit" class="button prominent">
                {% trans "Change Phone" %}
            </button>
            <a href="{% url 'account_profile' %}" class="button outline">
                {% trans "Cancel" %}
            </a>
        </div>
    </form>
{% endblock content %}
